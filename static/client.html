<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head></head>
<body>
<script language="JavaScript">
window.onload = function registerEventHandlers () {
var submit_btn = document.getElementById("submit_btn");
submit_btn.addEventListener("click", handle_input);
}

function handle_input(params) {
    var command = document.getElementById("command").value;
    alert("command value: "+ command);
}

function parse(str) {
  var regex = /(?=\bburn (\d+(?:.\d+)?) (\d+(?:.\d+)?) (\d+(?:.\d+)?)\b|\bin (\d+(?:.\d+)?) \b(seconds|hours|minutes|days)\b|\bat (\d{4}-\d\d-\d\d \d\d:\d\d\b))/;

  let groups = []
  //while ((m = regex.exec(str)) !== null) {

  m = regex.exec(str);

  for (let i = 0; i < 3; i++) {
    console.log("starting iteration "+i);

    if (m.index === regex.lastIndex) {
      regex.lastIndex++;
      console.log("incremented lastIndex to" +regex.lastIndex);
    }


    //result accessed through m
    m.forEach((match, groupIndex) => {
	  console.log("checking match "+match+" and groupIndex "+groupIndex);
      if (match) {
        groups[groupIndex] = match;
      }
    });

    m = regex.exec(str);
  }

  return m;
}
</script>

<p><b>This is an incomplete mock-up of the client, for design purposes. This page is not fully functional.</b></p>
<div id="output" style="background-color: #DDDDDD">
    <p>Welcome, commander.</p>
    <p>Remote navigation system DOTNAV booting up...</p>
    <p>Success. Connected to vessel.</p>
</div>

<br>
<input type="text" id="command">
<input type="button" value="Enter command" id="submit_btn">
<hr>
<p>Authcode: <input id="authcode" type="text"></p>
<p>Vessel: <input type="text" id="vessel"></p>
<p>System: <input type="text" id="system" value="{{GAMENAME}}" disabled></p>


</body>
</html>